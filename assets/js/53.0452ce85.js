(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{278:function(e,t,n){"use strict";n.r(t);var r=n(0),o=Object(r.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"nginx-处理-vue-跨域"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nginx-处理-vue-跨域","aria-hidden":"true"}},[e._v("#")]),e._v(" Nginx 处理 Vue 跨域")]),n("blockquote",[n("p",[n("code",[e._v("Nginx")]),e._v(" 配置跨域和 "),n("code",[e._v("API")]),e._v(" 代理")])]),n("p",[e._v("下面是 "),n("code",[e._v("nginx")]),e._v(" 的 "),n("code",[e._v(".conf")]),e._v(" 文件")]),n("div",{staticClass:"language-shell extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("\nlocation / {\n  # 项目目录\n  root   html/smarketing;\n  index  index.html index.htm;\n}\n\n# 配置 /core \b\b接口的跨域操作\nlocation /core/ {\n  proxy_pass http://192.168.89.72:8023/core/;\n  proxy_set_header Host $host;\n  proxy_set_header X-Real-IP $remote_addr;\n  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n  proxy_connect_timeout 90;\n  add_header Access-Control-Allow-Origin *;\n  add_header Access-Control-Allow-Methods 'GET, POST, PUT, DELETE, OPTIONS';\n  add_header Access-Control-Allow-Credentials 'true';\n  add_header Access-Control-Allow-Headers 'Accept, Authorization,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type';\n  if ($request_method = 'OPTIONS') {\n      add_header 'Access-Control-Allow-Origin' *;\n      add_header 'Access-Control-Max-Age' 1728000;\n      add_header 'Access-Control-Allow-Credentials' 'true';\n      add_header 'Access-Control-Allow-Methods' 'GET, POST, DELETE, PUT, OPTIONS';\n      add_header 'Access-Control-Allow-Headers' 'Accept, Authorization,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,f-Modified-Since,Cache-Control,Content-Type';\n      add_header 'Content-Type' 'text/plain charset=UTF-8';\n      add_header 'Content-Length' 0;\n      return 204;\n  }\n}\n\n# 配置转发, 这里是 访问 /member 转发到 http://192.168.89.72:8025/member/\nlocation /member/ {\n  proxy_pass http://192.168.89.72:8025/member/;\n  proxy_set_header Host $host;\n  proxy_set_header X-Real-IP $remote_addr;\n  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n  proxy_connect_timeout 90;\n}\n")])])])])}],!1,null,null,null);t.default=o.exports}}]);